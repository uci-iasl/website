<ul class="bibliography">
  {{- range $refstr := .items -}}
    {{- $starred := hasPrefix $refstr "+" -}}
    {{- $id := cond $starred (substr $refstr 1) $refstr -}}
    {{- if $entry := partial "bib/getentrydata" (dict "id" $id "Page" $.Page "Site" $.Site) -}}
      {{- partial "bib/entry.html" (dict "entry" $entry "params" $.Site.Params.bibliography "mark" (cond $starred "starred" "") "peoplepages" $.peoplepages "Page" $.Page) -}}
    {{- else -}}
      {{- warnf "No data found for bibliography entry %q in file %q" $id $.Page.File.Path -}}
      <li class="missing-content">{{ "" -}}
        <section id="{{ $id | urlize }}" class="bibentry">
          <code>{{ $id }}</code>
        </section>
      </li>
    {{- end -}}
  {{- end -}}
</ul>
